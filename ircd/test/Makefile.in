top_srcdir = @top_srcdir@
VPATH = @srcdir@
CPPFLAGS = -I$(top_srcdir)/include -I../..
CFLAGS   = -g -Wall

TESTPROGS = \
	ircd_chattr_t \
	ircd_string_t \
	ircd_in_addr_t

all: ${TESTPROGS}

ircd_chattr_t: ircd_chattr_t.o test_stub.o ../ircd_string.o
	${CC} -o $@ $^

ircd_string_t: ircd_string_t.o test_stub.o ../ircd_string.o
	${CC} -o $@ $^

ircd_in_addr_t: ircd_in_addr_t.o test_stub.o ../ircd_alloc.o ../ircd_string.o ../match.o ../numnicks.o
	$(CC) -o $@ $^

.PHONY: clean

clean:
	rm -f core *.o ${TESTPROGS}
